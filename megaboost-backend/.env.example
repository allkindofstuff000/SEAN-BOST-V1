# Core runtime
NODE_ENV=production
HOST=127.0.0.1
PORT=5000

# Public origin and allowed frontend origins
APP_ORIGIN=http://YOUR_VPS_IP_OR_DOMAIN
FRONTEND_URLS=http://YOUR_VPS_IP_OR_DOMAIN,http://localhost:5173,http://127.0.0.1:5173

# Database
MONGO_URI=mongodb+srv://USERNAME:PASSWORD@cluster0.mongodb.net/megaboost?retryWrites=true&w=majority
MONGODB_URI=mongodb+srv://USERNAME:PASSWORD@cluster0.mongodb.net/megaboost?retryWrites=true&w=majority
DB_HEALTH_TIMEOUT_MS=2000

# Auth and bootstrap admin
AUTH_SECRET=change_this_to_a_long_random_secret
AUTH_TOKEN_TTL=7d
COOKIE_SECURE=false
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=change_this_admin_password

# Licensing defaults
LICENSE_LIMIT=15
ACCOUNT_LIMIT=15
LICENSE_STATUS=active
LICENSE_EXPIRES_AT=

# API server tuning
SERVER_REQUEST_TIMEOUT_MS=65000
SERVER_HEADERS_TIMEOUT_MS=66000
SERVER_KEEP_ALIVE_TIMEOUT_MS=65000
ENABLE_REQUEST_TIMING_LOGS=0
REQUEST_SLOW_THRESHOLD_MS=1000
EVENT_LOOP_LAG_INTERVAL_MS=1000

# Worker routing and internal events
PROCESS_ROLE=api
WORKER_COMMAND_URL=http://127.0.0.1:5001/internal/worker
WORKER_COMMAND_HOST=127.0.0.1
WORKER_COMMAND_PORT=5001
WORKER_COMMAND_TIMEOUT_MS=15000
WORKER_STATUS_TIMEOUT_MS=5000
WORKER_RECOVERY_INTERVAL_MS=30000
WORKER_STALE_START_RECOVERY_MS=120000
WORKER_EVENT_TARGET_URL=http://127.0.0.1:5000/api/internal/events
INTERNAL_EVENTS_URL=
INTERNAL_EVENT_SECRET=change_this_internal_event_secret
INTERNAL_EVENT_TIMEOUT_MS=5000
INTERNAL_EVENT_WARN_INTERVAL_MS=60000

# Automation and browser behavior
LOGIN_URL=https://megapersonals.eu/users/auth/login
USER_SELECTOR=#email, input[name='email'], input[name='username'], input[type='email'], input[id='email']
PASS_SELECTOR=#password, input[name='password'], input[type='password'], input[id='password']
CAPTCHA_IMG_SELECTOR=#captcha_image_itself, img.captcha, img[src*='captcha']
CAPTCHA_INPUT_SELECTOR=#captcha_code, input[name='captcha'], input[placeholder*='code'], input[id='captcha_code']
SUBMIT_SELECTOR=#submit, button[type='submit'], input[type='submit']
CHECKPOINT_URL_MATCH=/users/device-verification/verify/
VERIFICATION_INPUT_SELECTOR=#verificationCode, .form-control.phone-input-code
VERIFICATION_SUBMIT_SELECTOR=#device_verification_submit, button[type='submit'], input[type='submit']
VERIFICATION_OK_SELECTOR=#OK
PUPPETEER_HEADLESS=true
MAX_CONCURRENCY=8
BROWSER_LOCALE=en-US
BROWSER_TIMEZONE=
BROWSER_DEFAULT_VIEWPORT_WIDTH=1366
BROWSER_DEFAULT_VIEWPORT_HEIGHT=768
BROWSER_LAUNCH_MAX_ATTEMPTS=3
BROWSER_NAVIGATION_TIMEOUT_MS=90000
BROWSER_ACTION_TIMEOUT_MS=30000

# Captcha / 2FA
CAPTCHA_SESSION_TTL_MS=600000
CAPTCHA_SUBMIT_TIMEOUT_MS=30000
VERIFICATION_SESSION_TTL_MS=300000
VERIFICATION_TIMEOUT_MS=300000
TWO_FACTOR_TIMEOUT_MS=45000
TWO_FACTOR_HTML_SNAPSHOT_LIMIT=204800
TWOCAPTCHA_API_KEY=
TWOCAPTCHA_AUTO_SOLVE=false
TWOCAPTCHA_TIMEOUT=120000
TWOCAPTCHA_POLLTIME=5000

# Bump and heartbeat tuning
BUMP_MIN_INTERVAL_MINUTES=15
BUMP_COOLDOWN_BUFFER_MS=120000
BUMP_COOLDOWN_MAX_WAIT_MS=3600000
WORKER_HEARTBEAT_INTERVAL_MS=10000
HEARTBEAT_EMIT_INTERVAL_MS=30000
HEARTBEAT_LOG_MIN_INTERVAL_MS=600000
HEARTBEAT_DETAIL_LOG_INTERVAL_MS=60000
HEARTBEAT_SUMMARY_INTERVAL_MS=600000
DEBUG_HEARTBEAT=0

# Worker self-test mode
WORKER_BUMP_SELF_TEST_MODE=false
WORKER_BUMP_SELF_TEST_CYCLES=5
WORKER_BUMP_SELF_TEST_SUCCESS_DELAY_MS=8000
WORKER_BUMP_SELF_TEST_COOLDOWN_MS=12000
WORKER_BUMP_SELF_TEST_ERROR_RETRY_MS=6000
WORKER_BUMP_SELF_TEST_PATTERN=SSSSS

# Optional socket/API smoke test helpers
SOCKET_TEST_URL=http://127.0.0.1:5000
SOCKET_TEST_IDENTIFIER=
SOCKET_TEST_PASSWORD=
MB_AUTH_TOKEN=

